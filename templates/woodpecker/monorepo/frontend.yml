# ===========================================
# Woodpecker CI - Monorepo: Frontend
# ===========================================
# Copy to: .woodpecker/frontend.yml
#
# Woodpecker natively supports multiple pipeline files in .woodpecker/.
# Each .yml becomes an independent workflow.
#
# Only runs when files in packages/frontend/ change.
# ===========================================

when:
  - event: push
    branch: main
  - event: pull_request
  - event: tag
  - event: manual
  - path: "packages/frontend/**"

steps:
  - name: lint
    image: node:20-alpine
    commands:
      - cd packages/frontend
      - npm ci
      - npm run lint
    failure: ignore

  - name: build
    image: node:20-alpine
    commands:
      - cd packages/frontend
      - npm ci
      - npm run build
